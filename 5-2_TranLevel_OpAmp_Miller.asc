Version 4
SHEET 1 880 680
WIRE -1840 -352 -1888 -352
WIRE -1488 -352 -1840 -352
WIRE -1328 -352 -1488 -352
WIRE -1232 -352 -1328 -352
WIRE -784 -352 -1232 -352
WIRE -752 -352 -784 -352
WIRE -688 -352 -752 -352
WIRE -1840 -304 -1840 -352
WIRE -1328 -304 -1328 -352
WIRE -1760 -288 -1792 -288
WIRE -1376 -288 -1760 -288
WIRE -1888 -256 -1888 -352
WIRE -1840 -256 -1888 -256
WIRE -1232 -256 -1232 -352
WIRE -1232 -256 -1328 -256
WIRE -784 -256 -784 -352
WIRE -832 -240 -1040 -240
WIRE -752 -208 -752 -352
WIRE -752 -208 -784 -208
WIRE -1840 -192 -1840 -208
WIRE -1760 -192 -1760 -288
WIRE -1760 -192 -1840 -192
WIRE -1040 -192 -1040 -240
WIRE -1040 -192 -1760 -192
WIRE -1456 -128 -1536 -128
WIRE -1328 -128 -1328 -208
WIRE -1328 -128 -1456 -128
WIRE -1200 -128 -1328 -128
WIRE -1536 -64 -1536 -128
WIRE -1200 -64 -1200 -128
WIRE -784 -64 -784 -160
WIRE -656 -64 -784 -64
WIRE -1584 -48 -1600 -48
WIRE -1136 -48 -1152 -48
WIRE -2176 -32 -2208 -32
WIRE -2016 -32 -2064 -32
WIRE -1488 -16 -1488 -352
WIRE -1488 -16 -1536 -16
WIRE -1200 -16 -1488 -16
WIRE -880 -16 -912 -16
WIRE -784 -16 -784 -64
WIRE -784 -16 -816 -16
WIRE -784 0 -784 -16
WIRE -2064 32 -2064 -32
WIRE -528 32 -544 32
WIRE -352 32 -368 32
WIRE -720 48 -784 48
WIRE -1536 64 -1536 32
WIRE -1456 64 -1536 64
WIRE -1328 64 -1456 64
WIRE -1200 80 -1200 32
WIRE -912 80 -912 -16
WIRE -912 80 -1200 80
WIRE -832 80 -912 80
WIRE -544 80 -544 32
WIRE -368 80 -368 32
WIRE -1536 96 -1536 64
WIRE -1200 96 -1200 80
WIRE -2608 112 -2608 32
WIRE -2400 112 -2400 32
WIRE -1840 112 -1840 -192
WIRE -2208 144 -2208 -32
WIRE -2064 144 -2064 112
WIRE -1536 144 -1584 144
WIRE -1104 144 -1200 144
WIRE -1328 176 -1328 64
WIRE -1328 176 -1488 176
WIRE -1248 176 -1328 176
WIRE -2608 288 -2608 192
WIRE -2400 288 -2400 192
WIRE -2400 288 -2608 288
WIRE -2208 288 -2208 224
WIRE -2208 288 -2400 288
WIRE -2064 288 -2064 224
WIRE -2064 288 -2208 288
WIRE -1840 288 -1840 192
WIRE -1584 288 -1584 144
WIRE -1584 288 -1840 288
WIRE -1536 288 -1536 192
WIRE -1536 288 -1584 288
WIRE -1200 288 -1200 192
WIRE -1200 288 -1536 288
WIRE -1104 288 -1104 144
WIRE -1104 288 -1200 288
WIRE -784 288 -784 96
WIRE -784 288 -1104 288
WIRE -720 288 -720 48
WIRE -720 288 -784 288
WIRE -688 288 -720 288
WIRE -544 288 -544 160
WIRE -368 288 -368 160
WIRE -368 288 -544 288
WIRE -2400 320 -2400 288
WIRE -368 320 -368 288
FLAG -688 -352 VDD
IOPIN -688 -352 In
FLAG -1600 -48 VIN-
IOPIN -1600 -48 In
FLAG -1136 -48 VIN+
IOPIN -1136 -48 In
FLAG -1456 -128 VD5
FLAG -1456 64 VG3
FLAG -656 -64 VO
IOPIN -656 -64 Out
FLAG -688 288 -VSS
IOPIN -688 288 In
FLAG -528 32 -VSS
IOPIN -528 32 In
FLAG -352 32 VDD
IOPIN -352 32 In
FLAG -368 320 0
FLAG -2608 32 VCM
FLAG -2400 32 VID
FLAG -2016 -32 VIN+
IOPIN -2016 -32 In
FLAG -2176 -32 VIN-
IOPIN -2176 -32 In
FLAG -2400 320 0
SYMBOL nmos4 -1488 96 M0
WINDOW 3 -118 28 Left 2
WINDOW 123 -137 54 Left 2
SYMATTR Value nmos-bsim
SYMATTR Value2 l=1u w=10u
SYMATTR InstName M3
SYMATTR SpiceLine ad=10.5e-12 as=10.5e-12 pd=12.1u ps=12.1u m=1
SYMBOL nmos4 -1248 96 R0
WINDOW 3 68 7 Left 2
WINDOW 123 66 70 Left 2
SYMATTR Value nmos-bsim
SYMATTR Value2 l=1u w=10u
SYMATTR InstName M4
SYMATTR SpiceLine ad=10.5e-12 as=10.5e-12 pd=12.1u ps=12.1u m=1
SYMBOL pmos4 -1376 -208 M180
WINDOW 3 60 30 Left 2
WINDOW 0 56 85 Left 2
WINDOW 123 64 2 Left 2
SYMATTR Value pmos-bsim
SYMATTR InstName M5
SYMATTR Value2 l=1u w=10u
SYMATTR SpiceLine ad=10.5e-12 as=10.5e-12 pd=12.1u ps=12.1u m=1
SYMBOL pmos4 -1584 32 M180
WINDOW 3 -121 51 Left 2
WINDOW 123 -144 23 Left 2
SYMATTR Value pmos-bsim
SYMATTR Value2 l=1u w=10u
SYMATTR InstName M1
SYMATTR SpiceLine ad=10.5e-12 as=10.5e-12 pd=12.1u ps=12.1u m=1
SYMBOL pmos4 -1152 32 R180
WINDOW 3 -121 15 Left 2
WINDOW 123 -142 40 Left 2
SYMATTR Value pmos-bsim
SYMATTR Value2 l=1u w=10u
SYMATTR InstName M2
SYMATTR SpiceLine ad=10.5e-12 as=10.5e-12 pd=12.1u ps=12.1u m=1
SYMBOL nmos4 -832 0 R0
WINDOW 3 -80 103 Left 2
WINDOW 123 -93 129 Left 2
SYMATTR Value nmos-bsim
SYMATTR Value2 l=1u w=20u
SYMATTR InstName M7
SYMATTR SpiceLine ad=21e-12 as=21e-12 pd=22.1u ps=22.1u m=1
SYMBOL pmos4 -832 -160 M180
WINDOW 3 91 78 Left 2
WINDOW 123 79 5 Left 2
SYMATTR Value pmos-bsim
SYMATTR Value2 l=1u w=10u
SYMATTR InstName M6
SYMATTR SpiceLine ad=10.5e-12 as=10.5e-12 pd=12.1u ps=12.1u m=1
SYMBOL pmos4 -1792 -208 R180
WINDOW 3 -80 109 Left 2
WINDOW 123 56 4 Left 2
SYMATTR Value pmos-bsim
SYMATTR Value2 l=1u w=10u
SYMATTR InstName M8
SYMATTR SpiceLine ad=10.5e-12 as=10.5e-12 pd=12.1u ps=12.1u m=1
SYMBOL res -1856 96 R0
SYMATTR InstName RB
SYMATTR Value 100k
SYMBOL cap -816 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 37 51 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.63p
SYMBOL voltage -544 64 R0
SYMATTR InstName V1
SYMATTR Value -1.5
SYMBOL voltage -368 64 R0
SYMATTR InstName V2
SYMATTR Value 1.5
SYMBOL voltage -2064 16 R0
SYMATTR InstName Voff1
SYMATTR Value 0
SYMBOL bv -2208 128 R0
WINDOW 3 -49 -92 VRight 2
SYMATTR Value V=V(VCM)-V(VID)/2
SYMATTR InstName B1
SYMBOL bv -2064 128 R0
WINDOW 3 -101 118 Left 2
SYMATTR Value V=V(VCM)+V(VID)/2
SYMATTR InstName B2
SYMBOL voltage -2608 96 R0
SYMATTR InstName VCM1
SYMATTR Value 0.2
SYMBOL voltage -2400 96 R0
SYMATTR InstName VID1
SYMATTR Value 10m
TEXT -1872 -408 Left 2 ;AD=AS=3WLmin; PD=PS=W+6Lmin
TEXT -1584 -488 Left 2 !.op
TEXT -1880 -456 Left 2 !.lib BSIM3_035.inc
TEXT -1584 -456 Left 2 ;.tran 100m
TEXT -2112 -624 Left 2 ;Figure 5.2: Transistor level schematic of two-stage operational amplifier with Miller Capacitor Cc at the output stage
TEXT -2112 -576 Left 2 ;When using a two-stage opamp, a pmos input transistor for the first stage optimizes unity-gain frecuency (because then\nsecond stage has to be nmos) and minimizes 1/f noise but with an increased thermal noise (only solved if the design is\n limited to a single stage)
TEXT -1432 -480 Left 2 ;The tran simulation shows a saturation because\nwithout feedback any opamp is a comparator
